2025-05-25 20:49:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:49:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:49:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:49:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:49:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:49:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:49:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:49:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:49:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:49:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:49:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:49:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:50:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:50:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:50:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:50:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:50:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:50:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:50:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:50:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:51:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:51:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:51:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:51:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:51:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:51:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:51:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:51:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:52:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:52:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 20:52:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:52:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:52:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:52:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:52:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:52:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:52:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:53:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:53:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:53:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:53:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:53:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:53:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:53:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:53:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:54:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:54:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:54:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:54:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:54:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:54:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:54:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:54:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:55:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:55:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:55:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:55:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:55:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:55:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:55:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:55:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:56:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:56:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:56:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:56:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:56:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:56:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:56:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:56:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:57:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:57:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 20:57:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:57:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:57:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:57:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:57:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:57:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:57:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:58:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:58:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:58:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:58:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:58:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:58:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:58:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:58:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:59:24 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:59:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 20:59:54 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 20:59:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 20:59:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 20:59:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 20:59:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 20:59:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:00:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:00:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:00:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:00:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:00:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:00:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:00:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:00:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:01:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:01:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:01:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:01:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:01:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:01:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:01:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:01:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:02:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:02:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:02:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:02:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:02:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:02:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:02:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:02:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:02:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:03:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:03:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:03:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:03:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:03:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:03:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:03:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:03:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:04:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:04:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:04:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:04:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:04:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:04:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:04:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:04:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:05:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:05:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:05:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:05:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:05:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:05:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:05:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:05:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:06:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:06:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:06:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:06:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:06:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:06:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:06:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:06:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:07:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:07:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:07:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:07:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:07:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:07:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:07:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:07:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:07:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:08:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:08:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:08:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:08:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:08:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:08:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:08:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:08:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:09:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:09:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:09:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:09:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:09:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:09:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:09:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:09:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:10:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:10:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:10:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:10:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:10:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:10:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:10:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:10:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:11:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:11:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:11:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:11:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:11:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:11:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:11:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:11:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:12:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:12:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:12:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:12:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:12:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:12:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:12:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:12:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:12:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:13:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:13:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:13:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:13:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:13:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:13:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:13:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:13:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:14:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:14:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:14:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:14:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:14:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:14:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:14:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:14:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:15:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:15:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:15:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:15:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:15:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:15:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:15:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:15:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:16:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:16:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:16:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:16:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:16:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:16:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:16:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:16:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:17:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:17:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:17:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:17:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:17:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:17:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:17:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:17:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:17:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:18:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:18:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:18:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:18:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:18:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:18:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:18:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:18:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:19:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:19:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:19:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:19:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:19:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:19:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:19:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:19:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:20:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:20:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:20:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:20:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:20:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:20:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:20:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:20:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:21:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:21:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:21:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:21:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:21:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:21:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:21:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:21:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:22:25 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:22:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:22:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:55 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:22:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:22:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:22:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:22:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:22:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:22:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:23:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:23:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:23:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:23:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:23:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:23:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:23:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:23:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:24:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:24:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:24:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:24:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:24:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:24:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:24:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:24:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:25:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:25:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:25:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:25:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:25:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:25:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:25:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:25:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:26:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:26:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:26:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:26:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:26:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:26:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:26:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:26:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:27:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:27:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:27:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:27:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:27:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:27:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:27:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:27:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:27:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:28:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:28:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:28:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:28:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:28:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:28:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:28:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:28:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:29:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:29:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:29:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:29:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:29:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:29:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:29:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:29:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:30:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:30:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:30:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:30:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:30:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:30:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:30:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:30:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:31:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:31:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:31:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:31:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:31:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:31:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:31:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:31:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:32:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:32:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:52 [AsyncResolver-bootstrap-executor-%d] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-05-25 21:32:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:32:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:32:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:32:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:32:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:32:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:32:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:33:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:33:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:33:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:33:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:33:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:33:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:33:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:33:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:34:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:34:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:34:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:34:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:34:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:34:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:34:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:34:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:03 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:03 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:03 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:03 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:08 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:08 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:08 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:08 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:13 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:13 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:13 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:13 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:18 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:18 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:18 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:18 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:23 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:23 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:23 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:23 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:35:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:35:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:28 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:28 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:28 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:28 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:33 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:33 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:33 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:33 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:38 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:38 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:38 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:38 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:43 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:43 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:43 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:43 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:48 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:48 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:48 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:48 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:53 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:53 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:53 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:53 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:35:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:35:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:35:58 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:35:58 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:35:58 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:35:58 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:03 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:03 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:03 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:03 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:08 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:08 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:08 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:08 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:13 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:13 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:13 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:13 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:18 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:18 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:18 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:18 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:23 [parallel-4] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:23 [parallel-4] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:23 [parallel-4] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:23 [parallel-4] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:36:26 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:36:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:28 [parallel-5] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:28 [parallel-5] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:28 [parallel-5] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:28 [parallel-5] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:33 [parallel-6] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:33 [parallel-6] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:33 [parallel-6] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:33 [parallel-6] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:38 [parallel-7] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:38 [parallel-7] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:38 [parallel-7] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:38 [parallel-7] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:43 [parallel-8] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:43 [parallel-8] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:43 [parallel-8] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:43 [parallel-8] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:48 [parallel-1] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:48 [parallel-1] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:48 [parallel-1] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:48 [parallel-1] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:53 [parallel-2] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:53 [parallel-2] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:53 [parallel-2] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:53 [parallel-2] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {name=auth-service, fallbackUri=forward:/fallback/auth} to CircuitBreaker
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying {_genkey_0=/api/billing/**} to Path
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {_genkey_0=1} to StripPrefix
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {name=billing-service, fallbackUri=forward:/fallback/billing} to CircuitBreaker
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-service applying filter {} to AuthFilter
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-service
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying {_genkey_0=/health/auth/**} to Path
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-health applying filter {_genkey_0=/health/auth/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-health
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying {_genkey_0=/health/billing/**} to Path
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {retries=3, statuses=BAD_GATEWAY,GATEWAY_TIMEOUT, methods=GET,POST,PUT,DELETE} to Retry
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {redis-rate-limiter.replenishRate=2, redis-rate-limiter.burstCapacity=5, redis-rate-limiter.requestedTokens=1, key-resolver=#{@userKeyResolver}, rate-limiter-headers-enabled=true, add-request-headers-enabled=true} to RequestRateLimiter
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=2} to StripPrefix
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition billing-health applying filter {_genkey_0=/health/billing/(?<segment>.*), _genkey_1=/actuator/health} to RewritePath
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: billing-health
2025-05-25 21:36:56 [DiscoveryClient-CacheRefreshExecutor-%d] DEBUG o.s.c.g.filter.GatewayMetricsFilter - New routes count: 4
2025-05-25 21:36:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}
2025-05-25 21:36:58 [parallel-3] DEBUG o.s.s.w.s.u.m.PathPatternParserServerWebExchangeMatcher - Request 'GET /actuator/prometheus' doesn't match 'POST /logout'
2025-05-25 21:36:58 [parallel-3] DEBUG o.s.s.w.s.u.m.OrServerWebExchangeMatcher - No matches found
2025-05-25 21:36:58 [parallel-3] DEBUG o.s.s.w.s.a.DelegatingReactiveAuthorizationManager - Checking authorization on '/actuator/prometheus' using org.springframework.security.config.web.server.ServerHttpSecurity$AuthorizeExchangeSpec$Access$$Lambda/0x0000000123600840@2ef1faff
2025-05-25 21:36:58 [parallel-3] DEBUG o.s.s.w.s.a.AuthorizationWebFilter - Authorization successful
2025-05-25 21:37:01 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application GATEWAY with eureka with status DOWN
2025-05-25 21:37:01 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1748201821047, current=DOWN, previous=UP]
2025-05-25 21:37:01 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_GATEWAY/gateway:0d4b5640-3067-4d56-b6eb-fc623926e18b: registering service...
2025-05-25 21:37:01 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-25 21:37:01 [netty-shutdown] INFO  o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-05-25 21:37:01 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_GATEWAY/gateway:0d4b5640-3067-4d56-b6eb-fc623926e18b - registration status: 204
2025-05-25 21:37:03 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-05-25 21:37:06 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-05-25 21:37:06 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_GATEWAY/gateway:0d4b5640-3067-4d56-b6eb-fc623926e18b - deregister  status: 200
2025-05-25 21:37:06 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
