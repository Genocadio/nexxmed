(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3494],{19934:(e,t,n)=>{"use strict";n.d(t,{BT:()=>c,Wu:()=>l,ZB:()=>i,Zp:()=>r,aR:()=>o});var a=n(66384);n(16636);var s=n(35515);function r(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function o(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function i(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...n})}function c(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...n})}function l(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...n})}},24582:(e,t,n)=>{"use strict";var a=n(23066);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},28016:(e,t,n)=>{"use strict";n.d(t,{A0:()=>o,BF:()=>i,Hj:()=>c,XI:()=>r,nA:()=>d,nd:()=>l});var a=n(66384);n(16636);var s=n(35515);function r(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...n})})}function o(e){let{className:t,...n}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...n})}function i(e){let{className:t,...n}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...n})}function c(e){let{className:t,...n}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...n})}function l(e){let{className:t,...n}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function d(e){let{className:t,...n}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}},28330:(e,t,n)=>{"use strict";n.d(t,{JR:()=>a,Ny:()=>r,Sn:()=>s,sv:()=>o,v$:()=>i});let a="http://localhost:5007",s={medicine:{base:"".concat(a,"/api/medicine"),classes:"".concat(a,"/api/classes"),generics:"".concat(a,"/api/generics"),variants:"".concat(a,"/api/variants"),brands:"".concat(a,"/api/brands")},catalog:{base:a,categories:"".concat(a,"/api/categories"),category:e=>"".concat(a,"/api/categories/").concat(e),productFamilies:"".concat(a,"/api/product-families"),variants:"".concat(a,"/api/product-variants"),variant:e=>"".concat(a,"/api/product-variants/").concat(e)},inventory:{base:"".concat(a,"/api"),stock:"".concat(a,"/api/stock"),stockEntry:e=>"".concat(a,"/api/api/stock/").concat(e),sales:"".concat(a,"/api/sales"),invoice:e=>"".concat(a,"/api/api/sales/").concat(e,"/invoice"),insurances:"".concat(a,"/api/insurances"),insurance:e=>"".concat(a,"/api/insurances/").concat(e),search:{unified:"".concat(a,"/api/search/unified")}}};class r extends Error{constructor(e="User is not authenticated"){super(e),this.name="NotAuthenticatedError"}}class o extends Error{constructor(e="Client is not activated"){super(e),this.name="ClientNotActivatedError"}}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;try{let e=localStorage.getItem("authSession");if(e){var a;let t=JSON.parse(e);n=(null==t||null==(a=t.tokens)?void 0:a.accessToken)||null}}catch(e){}if(!n){console.log("[fetchWithAuth] No access token found - user not authenticated");{localStorage.removeItem("authSession");let e=window.location.pathname+window.location.search;window.location.replace("/auth/login?redirect=".concat(encodeURIComponent(e)))}throw new r}console.log("[fetchWithAuth] Using Bearer token for request:","string"==typeof e?e:e.toString());let s=new Headers(t.headers||{});s.set("Authorization","Bearer ".concat(n));let i=await fetch(e,{...t,headers:s});if(403===i.status)try{let e=await i.json();if("CLIENT_NOT_ACTIVATED"===e.error){console.log("[fetchWithAuth] Client not activated, redirecting to activation page");{let e=window.location.pathname+window.location.search;window.location.replace("/auth/activation?redirect=".concat(encodeURIComponent(e)))}throw new o}}catch(e){}if(401===i.status){{localStorage.removeItem("authSession");let e=window.location.pathname+window.location.search;window.location.replace("/auth/login?redirect=".concat(encodeURIComponent(e)))}throw new r}return i}},31257:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var a=n(16636),s=n(50873);function r(e){let[t,n]=a.useState(void 0);return(0,s.N)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}},35515:(e,t,n)=>{"use strict";n.d(t,{cn:()=>r});var a=n(54534),s=n(49258);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,a.$)(t))}},42098:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,AuthProvider:()=>l});var a=n(66384),s=n(16636),r=n(28330),o=n(24582);let i=(0,s.createContext)(void 0);function c(e){localStorage.setItem("authSession",JSON.stringify(e)),console.log("[Auth] Session stored:",e)}let l=e=>{let{children:t}=e,n=(0,o.useRouter)(),[l,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=function(){let e=localStorage.getItem("authSession");if(!e)return{user:null,tokens:null};try{return JSON.parse(e)}catch(e){return{user:null,tokens:null}}}();d(e.user),h(e.tokens),p(!1),console.log("[Auth] Session loaded on mount:",e)},[]);let g=async e=>{let{emailOrPhone:t,password:n}=e;console.log("[Auth] Attempting login with",t);let a=await fetch("".concat(r.Sn.inventory.base,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrPhone:t,password:n})});if(!a.ok){let e=await a.json().catch(()=>({}));if(console.log("[Auth] Login failed:",e),403===a.status&&"CLIENT_NOT_ACTIVATED"===e.error)throw new r.sv;throw Error(e.message||"Login failed")}let s=await a.json();d(s.user),h({accessToken:s.accessToken,refreshToken:s.refreshToken,tokenType:s.tokenType,expiresIn:s.expiresIn}),c({user:s.user,tokens:{accessToken:s.accessToken,refreshToken:s.refreshToken,tokenType:s.tokenType,expiresIn:s.expiresIn}}),console.log("[Auth] Login successful, session set:",{user:s.user,tokens:s})},x=async e=>{console.log("[Auth] Attempting registration with",e.email,e.phoneNumber);let t=await fetch("".concat(r.Sn.inventory.base,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));throw console.log("[Auth] Registration failed:",e),Error(e.message||"Registration failed")}let n=await t.json();d(n.user),h({accessToken:n.accessToken,refreshToken:n.refreshToken,tokenType:n.tokenType,expiresIn:n.expiresIn}),c({user:n.user,tokens:{accessToken:n.accessToken,refreshToken:n.refreshToken,tokenType:n.tokenType,expiresIn:n.expiresIn}}),console.log("[Auth] Registration successful, session set:",{user:n.user,tokens:n})};return(0,a.jsx)(i.Provider,{value:{user:l,tokens:u,isAuthenticated:!!l,login:g,register:x,logout:()=>{d(null),h(null),localStorage.removeItem("authSession"),console.log("[Auth] Session cleared from storage"),n.push("/auth/login"),console.log("[Auth] Logged out, session cleared")},loading:f},children:t})};function d(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},46276:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>u,Es:()=>f,L3:()=>p,c7:()=>h,lG:()=>i,rr:()=>g,zM:()=>c});var a=n(66384);n(16636);var s=n(5133),r=n(81482),o=n(35515);function i(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"dialog-trigger",...t})}function l(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...n}=e;return(0,a.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function u(e){let{className:t,children:n,...i}=e;return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[n,(0,a.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function f(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function p(e){let{className:t,...n}=e;return(0,a.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...n})}function g(e){let{className:t,...n}=e;return(0,a.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...n})}},54785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(16636);function s(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},55212:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var a=n(66384);n(16636);var s=n(62166),r=n(20088),o=n(35515);let i=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:n,size:r,asChild:c=!1,...l}=e,d=c?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,o.cn)(i({variant:n,size:r,className:t})),...l})}},62855:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var a=n(66384);n(16636);var s=n(86862),r=n(94402),o=n(35515);function i(e){let{className:t,...n}=e;return(0,a.jsx)(s.bL,{"data-slot":"checkbox",className:(0,o.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:(0,a.jsx)(s.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(r.A,{className:"size-3.5"})})})}},71727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(66384),s=n(16636),r=n(28330),o=n(19934),i=n(28016),c=n(55212),l=n(62855),d=n(46276),u=n(98377);async function h(){try{let e=await (0,r.v$)("".concat(r.JR,"/inventory/auth/users"));if(!e.ok)throw Error("Failed to fetch users");return(await e.json()).content||[]}catch(e){throw e instanceof r.Ny&&window.location.replace("/auth/login"),e}}var f=n(81045);let p=["MANAGER","USER","GUEST"],g=(0,f.r)(function(){var e;let{users:t,isLoading:n,error:f}=function(){let{data:e=[],isLoading:t,error:n}=(0,u.I)({queryKey:["users"],queryFn:h});return{users:e,isLoading:t,error:n}}(),[g,x]=(0,s.useState)({}),[m,v]=(0,s.useState)({}),[b,k]=(0,s.useState)(null),[j,y]=(0,s.useState)([]),[w,N]=(0,s.useState)(""),A=e=>{k(e),y(e.roles),N("")},S=e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},T=async()=>{if(b){x(e=>({...e,[b.id]:!0})),v(e=>({...e,[b.id]:!1})),N("");try{if(!(await (0,r.v$)("".concat(r.JR,"/inventory/auth/users/").concat(b.id,"/roles"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({roles:j})})).ok)throw Error("Failed to update roles");v(e=>({...e,[b.id]:!0})),k(null)}catch(e){N("Failed to update roles")}finally{x(e=>({...e,[b.id]:!1}))}}};return n?(0,a.jsx)("div",{className:"p-8",children:"Loading users..."}):f?(0,a.jsx)("div",{className:"p-8 text-red-500",children:f instanceof Error?f.message:"Failed to load users"}):(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"User Management"}),(0,a.jsx)(o.Zp,{children:(0,a.jsxs)(i.XI,{children:[(0,a.jsx)(i.A0,{children:(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nd,{children:"Name"}),(0,a.jsx)(i.nd,{children:"Email"}),(0,a.jsx)(i.nd,{children:"Phone"}),(0,a.jsx)(i.nd,{children:"Roles"}),(0,a.jsx)(i.nd,{children:"Status"}),(0,a.jsx)(i.nd,{children:"Last Login"}),(0,a.jsx)(i.nd,{children:"Actions"})]})}),(0,a.jsx)(i.BF,{children:t.map(e=>(0,a.jsxs)(i.Hj,{children:[(0,a.jsxs)(i.nA,{children:[e.firstName," ",e.lastName]}),(0,a.jsx)(i.nA,{children:e.email||(0,a.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}),(0,a.jsx)(i.nA,{children:e.phoneNumber||(0,a.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}),(0,a.jsx)(i.nA,{children:e.roles.join(", ")}),(0,a.jsx)(i.nA,{children:e.status}),(0,a.jsx)(i.nA,{children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleString():(0,a.jsx)("span",{className:"text-muted-foreground",children:"Never"})}),(0,a.jsxs)(i.nA,{children:[(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>A(e),disabled:g[e.id],children:"Edit Roles"}),g[e.id]?(0,a.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"Updating..."}):m[e.id]?(0,a.jsx)("span",{className:"ml-2 text-xs text-green-600",children:"Updated!"}):null]})]},e.id))})]})}),(0,a.jsx)(d.lG,{open:!!b,onOpenChange:()=>k(null),children:(0,a.jsxs)(d.Cf,{children:[(0,a.jsx)(d.c7,{children:(0,a.jsxs)(d.L3,{children:["Edit Roles for ",null==b?void 0:b.firstName," ",null==b?void 0:b.lastName]})}),w&&(0,a.jsx)("div",{className:"text-red-500 text-sm mb-2",children:w}),(0,a.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.S,{checked:j.includes(e),onCheckedChange:()=>S(e)}),(0,a.jsx)("span",{children:e})]},e))}),(0,a.jsxs)(d.Es,{children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>k(null),children:"Cancel"}),(0,a.jsx)(c.$,{onClick:T,disabled:g[null!=(e=null==b?void 0:b.id)?e:0],children:"Save"})]})]})})]})},["ADMIN","USER"])},81045:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var a=n(66384),s=n(16636),r=n(42098),o=n(24582);function i(e,t){let n=n=>{let{isAuthenticated:i,loading:c,user:l}=(0,r.A)(),d=(0,o.useRouter)();return((0,s.useEffect)(()=>{console.log("[withAuth] Auth state:",{loading:c,isAuthenticated:i}),c||i||(console.log("[withAuth] Redirecting to /auth/login"),d.replace("/auth/login"))},[i,c,d]),(0,s.useEffect)(()=>{!c&&i&&t&&l&&(l.roles.some(e=>t.includes(e))||(console.log("[withAuth] User lacks required role, redirecting to /auth/no-access"),d.replace("/")))},[c,i,t,l,d]),c)?(console.log("[withAuth] Waiting for auth session to load..."),null):i?t&&l&&!l.roles.some(e=>t.includes(e))?null:(0,a.jsx)(e,{...n}):(console.log("[withAuth] Not authenticated, rendering null"),null)};return n.displayName="withAuth(".concat(e.displayName||e.name||"Component",")"),n}},86862:(e,t,n)=>{"use strict";n.d(t,{C1:()=>w,bL:()=>j});var a=n(16636),s=n(34346),r=n(16668),o=n(3314),i=n(8637),c=n(54785),l=n(31257),d=n(97406),u=n(5582),h=n(66384),f="Checkbox",[p,g]=(0,r.A)(f),[x,m]=p(f);function v(e){let{__scopeCheckbox:t,checked:n,children:s,defaultChecked:r,disabled:o,form:c,name:l,onCheckedChange:d,required:u,value:p="on",internal_do_not_use_render:g}=e,[m,v]=(0,i.i)({prop:n,defaultProp:null!=r&&r,onChange:d,caller:f}),[b,k]=a.useState(null),[j,y]=a.useState(null),w=a.useRef(!1),N=!b||!!c||!!b.closest("form"),A={checked:m,disabled:o,setChecked:v,control:b,setControl:k,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!S(r)&&r,isFormControl:N,bubbleInput:j,setBubbleInput:y};return(0,h.jsx)(x,{scope:t,...A,children:"function"==typeof g?g(A):s})}var b="CheckboxTrigger",k=a.forwardRef((e,t)=>{let{__scopeCheckbox:n,onKeyDown:r,onClick:i,...c}=e,{control:l,value:d,disabled:f,checked:p,required:g,setControl:x,setChecked:v,hasConsumerStoppedPropagationRef:k,isFormControl:j,bubbleInput:y}=m(b,n),w=(0,s.s)(t,x),N=a.useRef(p);return a.useEffect(()=>{let e=null==l?void 0:l.form;if(e){let t=()=>v(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,v]),(0,h.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":g,"data-state":T(p),"data-disabled":f?"":void 0,disabled:f,value:d,...c,ref:w,onKeyDown:(0,o.m)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.m)(i,e=>{v(e=>!!S(e)||!e),y&&j&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})})});k.displayName=b;var j=a.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:a,checked:s,defaultChecked:r,required:o,disabled:i,value:c,onCheckedChange:l,form:d,...u}=e;return(0,h.jsx)(v,{__scopeCheckbox:n,checked:s,defaultChecked:r,disabled:i,required:o,onCheckedChange:l,name:a,form:d,value:c,internal_do_not_use_render:e=>{let{isFormControl:a}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{...u,ref:t,__scopeCheckbox:n}),a&&(0,h.jsx)(A,{__scopeCheckbox:n})]})}})});j.displayName=f;var y="CheckboxIndicator",w=a.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:a,...s}=e,r=m(y,n);return(0,h.jsx)(d.C,{present:a||S(r.checked)||!0===r.checked,children:(0,h.jsx)(u.sG.span,{"data-state":T(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=y;var N="CheckboxBubbleInput",A=a.forwardRef((e,t)=>{let{__scopeCheckbox:n,...r}=e,{control:o,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:f,required:p,disabled:g,name:x,value:v,form:b,bubbleInput:k,setBubbleInput:j}=m(N,n),y=(0,s.s)(t,j),w=(0,c.Z)(d),A=(0,l.X)(o);a.useEffect(()=>{if(!k)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(w!==d&&e){let n=new Event("click",{bubbles:t});k.indeterminate=S(d),e.call(k,!S(d)&&d),k.dispatchEvent(n)}},[k,w,d,i]);let T=a.useRef(!S(d)&&d);return(0,h.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=f?f:T.current,required:p,disabled:g,name:x,value:v,form:b,...r,tabIndex:-1,ref:y,style:{...r.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function T(e){return S(e)?"indeterminate":e?"checked":"unchecked"}A.displayName=N},88514:(e,t,n)=>{Promise.resolve().then(n.bind(n,71727))},94402:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(25787).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[9414,2261,5716,8377,9309,951,7358],()=>t(88514)),_N_E=e.O()}]);