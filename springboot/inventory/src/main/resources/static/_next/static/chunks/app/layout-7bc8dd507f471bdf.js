(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{14717:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var n=a(66384),s=a(35515);function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",t),...a})}},19967:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,39682,23)),Promise.resolve().then(a.bind(a,42098)),Promise.resolve().then(a.bind(a,92361)),Promise.resolve().then(a.bind(a,99226)),Promise.resolve().then(a.t.bind(a,39,23)),Promise.resolve().then(a.bind(a,78342))},28330:(e,t,a)=>{"use strict";a.d(t,{JR:()=>n,Ny:()=>i,Sn:()=>s,sv:()=>r,v$:()=>o});let n="http://localhost:5007",s={medicine:{base:"".concat(n,"/api/medicine"),classes:"".concat(n,"/api/classes"),generics:"".concat(n,"/api/generics"),variants:"".concat(n,"/api/variants"),brands:"".concat(n,"/api/brands")},catalog:{base:n,categories:"".concat(n,"/api/categories"),category:e=>"".concat(n,"/api/categories/").concat(e),productFamilies:"".concat(n,"/api/product-families"),variants:"".concat(n,"/api/product-variants"),variant:e=>"".concat(n,"/api/product-variants/").concat(e)},inventory:{base:"".concat(n,"/api"),stock:"".concat(n,"/api/stock"),stockEntry:e=>"".concat(n,"/api/api/stock/").concat(e),sales:"".concat(n,"/api/sales"),invoice:e=>"".concat(n,"/api/api/sales/").concat(e,"/invoice"),insurances:"".concat(n,"/api/insurances"),insurance:e=>"".concat(n,"/api/insurances/").concat(e),search:{unified:"".concat(n,"/api/search/unified")}}};class i extends Error{constructor(e="User is not authenticated"){super(e),this.name="NotAuthenticatedError"}}class r extends Error{constructor(e="Client is not activated"){super(e),this.name="ClientNotActivatedError"}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null;try{let e=localStorage.getItem("authSession");if(e){var n;let t=JSON.parse(e);a=(null==t||null==(n=t.tokens)?void 0:n.accessToken)||null}}catch(e){}if(!a){console.log("[fetchWithAuth] No access token found - user not authenticated");{localStorage.removeItem("authSession");let e=window.location.pathname+window.location.search;window.location.replace("/auth/login?redirect=".concat(encodeURIComponent(e)))}throw new i}console.log("[fetchWithAuth] Using Bearer token for request:","string"==typeof e?e:e.toString());let s=new Headers(t.headers||{});s.set("Authorization","Bearer ".concat(a));let o=await fetch(e,{...t,headers:s});if(403===o.status)try{let e=await o.json();if("CLIENT_NOT_ACTIVATED"===e.error){console.log("[fetchWithAuth] Client not activated, redirecting to activation page");{let e=window.location.pathname+window.location.search;window.location.replace("/auth/activation?redirect=".concat(encodeURIComponent(e)))}throw new r}}catch(e){}if(401===o.status){{localStorage.removeItem("authSession");let e=window.location.pathname+window.location.search;window.location.replace("/auth/login?redirect=".concat(encodeURIComponent(e)))}throw new i}return o}},35515:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var n=a(54534),s=a(49258);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,n.$)(t))}},39682:()=>{},42098:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>d});var n=a(66384),s=a(16636),i=a(28330),r=a(24582);let o=(0,s.createContext)(void 0);function l(e){localStorage.setItem("authSession",JSON.stringify(e)),console.log("[Auth] Session stored:",e)}let d=e=>{let{children:t}=e,a=(0,r.useRouter)(),[d,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[f,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=function(){let e=localStorage.getItem("authSession");if(!e)return{user:null,tokens:null};try{return JSON.parse(e)}catch(e){return{user:null,tokens:null}}}();c(e.user),h(e.tokens),g(!1),console.log("[Auth] Session loaded on mount:",e)},[]);let p=async e=>{let{emailOrPhone:t,password:a}=e;console.log("[Auth] Attempting login with",t);let n=await fetch("".concat(i.Sn.inventory.base,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrPhone:t,password:a})});if(!n.ok){let e=await n.json().catch(()=>({}));if(console.log("[Auth] Login failed:",e),403===n.status&&"CLIENT_NOT_ACTIVATED"===e.error)throw new i.sv;throw Error(e.message||"Login failed")}let s=await n.json();c(s.user),h({accessToken:s.accessToken,refreshToken:s.refreshToken,tokenType:s.tokenType,expiresIn:s.expiresIn}),l({user:s.user,tokens:{accessToken:s.accessToken,refreshToken:s.refreshToken,tokenType:s.tokenType,expiresIn:s.expiresIn}}),console.log("[Auth] Login successful, session set:",{user:s.user,tokens:s})},m=async e=>{console.log("[Auth] Attempting registration with",e.email,e.phoneNumber);let t=await fetch("".concat(i.Sn.inventory.base,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));throw console.log("[Auth] Registration failed:",e),Error(e.message||"Registration failed")}let a=await t.json();c(a.user),h({accessToken:a.accessToken,refreshToken:a.refreshToken,tokenType:a.tokenType,expiresIn:a.expiresIn}),l({user:a.user,tokens:{accessToken:a.accessToken,refreshToken:a.refreshToken,tokenType:a.tokenType,expiresIn:a.expiresIn}}),console.log("[Auth] Registration successful, session set:",{user:a.user,tokens:a})};return(0,n.jsx)(o.Provider,{value:{user:d,tokens:u,isAuthenticated:!!d,login:p,register:m,logout:()=>{c(null),h(null),localStorage.removeItem("authSession"),console.log("[Auth] Session cleared from storage"),a.push("/auth/login"),console.log("[Auth] Logged out, session cleared")},loading:f},children:t})};function c(){let e=(0,s.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},51797:(e,t,a)=>{"use strict";a.d(t,{Bc:()=>r,ZI:()=>d,k$:()=>l,m_:()=>o});var n=a(66384);a(16636);var s=a(68534),i=a(35515);function r(e){let{delayDuration:t=0,...a}=e;return(0,n.jsx)(s.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function o(e){let{...t}=e;return(0,n.jsx)(r,{children:(0,n.jsx)(s.bL,{"data-slot":"tooltip",...t})})}function l(e){let{...t}=e;return(0,n.jsx)(s.l9,{"data-slot":"tooltip-trigger",...t})}function d(e){let{className:t,sideOffset:a=0,children:r,...o}=e;return(0,n.jsx)(s.ZL,{children:(0,n.jsxs)(s.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,i.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...o,children:[r,(0,n.jsx)(s.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},55212:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var n=a(66384);a(16636);var s=a(62166),i=a(20088),r=a(35515);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:i,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,r.cn)(o({variant:a,size:i,className:t})),...d})}},92361:(e,t,a)=>{"use strict";a.d(t,{default:()=>ef});var n=a(66384),s=a(16636),i=a(77923);function r(e){let{children:t,...a}=e;return(0,n.jsx)(i.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,...a,children:t})}var o=a(62166),l=a(20088),d=a(96214),c=a(35515),u=a(55212);a(92944),a(98921);var h=a(5133),f=a(81482);function g(e){let{...t}=e;return(0,n.jsx)(h.bL,{"data-slot":"sheet",...t})}function p(e){let{...t}=e;return(0,n.jsx)(h.ZL,{"data-slot":"sheet-portal",...t})}function m(e){let{className:t,...a}=e;return(0,n.jsx)(h.hJ,{"data-slot":"sheet-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function x(e){let{className:t,children:a,side:s="right",...i}=e;return(0,n.jsxs)(p,{children:[(0,n.jsx)(m,{}),(0,n.jsxs)(h.UC,{"data-slot":"sheet-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===s&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===s&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===s&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===s&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[a,(0,n.jsxs)(h.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,n.jsx)(f.A,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function v(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sheet-header",className:(0,c.cn)("flex flex-col gap-1.5 p-4",t),...a})}function b(e){let{className:t,...a}=e;return(0,n.jsx)(h.hE,{"data-slot":"sheet-title",className:(0,c.cn)("text-foreground font-semibold",t),...a})}function j(e){let{className:t,...a}=e;return(0,n.jsx)(h.VY,{"data-slot":"sheet-description",className:(0,c.cn)("text-muted-foreground text-sm",t),...a})}a(14717);var w=a(51797);let y="16rem",k=s.createContext(null);function N(){let e=s.useContext(k);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function A(e){let{defaultOpen:t=!0,open:a,onOpenChange:i,className:r,style:o,children:l,...d}=e,u=function(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[h,f]=s.useState(!1),[g,p]=s.useState(t),m=null!=a?a:g,x=s.useCallback(e=>{let t="function"==typeof e?e(m):e;i?i(t):p(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[i,m]),v=s.useCallback(()=>u?f(e=>!e):x(e=>!e),[u,x,f]);s.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let b=m?"expanded":"collapsed",j=s.useMemo(()=>({state:b,open:m,setOpen:x,isMobile:u,openMobile:h,setOpenMobile:f,toggleSidebar:v}),[b,m,x,u,h,f,v]);return(0,n.jsx)(k.Provider,{value:j,children:(0,n.jsx)(w.Bc,{delayDuration:0,children:(0,n.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":y,"--sidebar-width-icon":"3rem",...o},className:(0,c.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...d,children:l})})})}function S(e){let{side:t="left",variant:a="sidebar",collapsible:s="offcanvas",className:i,children:r,...o}=e,{isMobile:l,state:d,open:c,setOpen:u,openMobile:h,setOpenMobile:f}=N();return(0,n.jsx)(g,{open:l?h:c,onOpenChange:l?f:u,...o,children:(0,n.jsxs)(x,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":l?"true":void 0,className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":l?"18rem":y},side:t,children:[(0,n.jsxs)(v,{className:"sr-only",children:[(0,n.jsx)(b,{children:"Sidebar"}),(0,n.jsx)(j,{children:"Displays the sidebar."})]}),(0,n.jsx)("div",{className:"flex h-full w-full flex-col",children:r})]})})}function T(e){let{className:t,onClick:a,...s}=e,{toggleSidebar:i}=N();return(0,n.jsxs)(u.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,c.cn)("size-7",t),onClick:e=>{null==a||a(e),i()},...s,children:[(0,n.jsx)(d.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function C(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,c.cn)("flex flex-col gap-2 p-2",t),...a})}function z(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,c.cn)("flex flex-col gap-2 p-2",t),...a})}function _(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,c.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function E(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,c.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}function I(e){let{className:t,asChild:a=!1,...s}=e,i=a?o.DX:"div";return(0,n.jsx)(i,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:(0,c.cn)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})}function P(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,c.cn)("w-full text-sm",t),...a})}function L(e){let{className:t,...a}=e;return(0,n.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,c.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function O(e){let{className:t,...a}=e;return(0,n.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,c.cn)("group/menu-item relative",t),...a})}let U=(0,l.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function R(e){let{asChild:t=!1,isActive:a=!1,variant:s="default",size:i="default",tooltip:r,className:l,...d}=e,u=t?o.DX:"button",{isMobile:h,state:f}=N(),g=(0,n.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":a,className:(0,c.cn)(U({variant:s,size:i}),l),...d});return r?("string"==typeof r&&(r={children:r}),(0,n.jsxs)(w.m_,{children:[(0,n.jsx)(w.k$,{asChild:!0,children:g}),(0,n.jsx)(w.ZI,{side:"right",align:"center",hidden:"collapsed"!==f||h,...r})]})):g}var D=a(25905),M=a(14928),$=a(11213),J=a(56434),V=a(43441),B=a(12398),W=a(14433),Z=a(91609),F=a(15147),H=a(21275),q=a(67435),K=a(39667),X=a(41685),G=a.n(X),Q=a(24582),Y=a(42098);let ee=[{title:"Home",url:"/",icon:D.A},{title:"Therapeutic Classes",url:"/manage/classes",icon:M.A},{title:"Generics",url:"/manage/generics",icon:$.A},{title:"Variants",url:"/manage/variants",icon:J.A},{title:"Brands",url:"/manage/brands",icon:V.A},{title:"Insurances",url:"/manage/insurances",icon:B.A}],et=[{title:"Categories",url:"/catalog/categories",icon:W.A},{title:"Product Families",url:"/catalog/families",icon:Z.A},{title:"Product Variants",url:"/catalog/variants",icon:F.A}];function ea(){let e=(0,Q.usePathname)(),{user:t}=(0,Y.A)(),a=(null==t?void 0:t.roles)||[],s=a.includes("ADMIN"),i=a.includes("USER"),r=a.includes("USER"),o=[];return s||i?o=[{title:"User Management",url:"/inventory/users",icon:B.A}]:r&&(o=[]),(0,n.jsxs)(S,{children:[(0,n.jsx)(C,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(K.A,{className:"h-6 w-6 text-primary"}),(0,n.jsx)("span",{className:"font-semibold text-lg",children:"MedRef System"})]})}),(0,n.jsxs)(_,{children:[s&&(0,n.jsxs)(E,{children:[(0,n.jsx)(I,{children:"Medicine Management"}),(0,n.jsx)(P,{children:(0,n.jsx)(L,{children:ee.map(t=>(0,n.jsx)(O,{children:(0,n.jsx)(R,{asChild:!0,isActive:e===t.url,children:(0,n.jsxs)(G(),{href:t.url,children:[(0,n.jsx)(t.icon,{}),(0,n.jsx)("span",{children:t.title})]})})},t.title))})})]}),s&&(0,n.jsxs)(E,{children:[(0,n.jsx)(I,{children:"Product Catalog"}),(0,n.jsx)(P,{children:(0,n.jsx)(L,{children:et.map(t=>(0,n.jsx)(O,{children:(0,n.jsx)(R,{asChild:!0,isActive:e===t.url,children:(0,n.jsxs)(G(),{href:t.url,children:[(0,n.jsx)(t.icon,{}),(0,n.jsx)("span",{children:t.title})]})})},t.title))})})]}),o.length>0&&(0,n.jsxs)(E,{children:[(0,n.jsx)(I,{children:"User Management"}),(0,n.jsx)(P,{children:(0,n.jsx)(L,{children:o.map(t=>(0,n.jsx)(O,{children:(0,n.jsx)(R,{asChild:!0,isActive:e===t.url,children:(0,n.jsxs)(G(),{href:t.url,children:[(0,n.jsx)(t.icon,{}),(0,n.jsx)("span",{children:t.title})]})})},t.title))})})]})]}),(0,n.jsx)(z,{className:"p-4",children:(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Medicine Reference System v1.0"})})]})}H.A,q.A,B.A;var en=a(3942),es=a(44684),ei=a(87543),er=a(25285),eo=a(18381);function el(e){let{...t}=e;return(0,n.jsx)(eo.bL,{"data-slot":"dropdown-menu",...t})}function ed(e){let{...t}=e;return(0,n.jsx)(eo.l9,{"data-slot":"dropdown-menu-trigger",...t})}function ec(e){let{className:t,sideOffset:a=4,...s}=e;return(0,n.jsx)(eo.ZL,{children:(0,n.jsx)(eo.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function eu(e){let{className:t,inset:a,variant:s="default",...i}=e;return(0,n.jsx)(eo.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":s,className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function eh(){let{setTheme:e,theme:t}=(0,i.D)(),{logout:a}=(0,Y.A)();return(0,n.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,n.jsxs)("div",{className:"flex h-16 items-center px-6 gap-4",children:[(0,n.jsx)(T,{}),(0,n.jsx)(u.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,n.jsx)(G(),{href:"/","aria-label":"Home",children:(0,n.jsx)(en.A,{className:"h-4 w-4"})})}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(u.$,{variant:"ghost",size:"icon",onClick:()=>e("light"===t?"dark":"light"),children:[(0,n.jsx)(es.A,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,n.jsx)(ei.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,n.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}),(0,n.jsxs)(el,{children:[(0,n.jsx)(ed,{asChild:!0,children:(0,n.jsxs)(u.$,{variant:"ghost",size:"icon",children:[(0,n.jsx)(er.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"User menu"})]})}),(0,n.jsxs)(ec,{align:"end",children:[(0,n.jsx)(eu,{asChild:!0,children:(0,n.jsx)(G(),{href:"/inventory/users/profile",children:"Profile"})}),(0,n.jsx)(eu,{onClick:a,children:"Logout"})]})]})]})]})})}function ef(e){let{children:t}=e,{isAuthenticated:a}=(0,Y.A)(),s=(0,Q.usePathname)(),i=a&&"/auth/login"!==s&&"/auth/register"!==s;return(0,n.jsx)(r,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,n.jsx)(A,{defaultOpen:!1,children:(0,n.jsxs)("div",{className:"flex min-h-screen w-full",children:[i&&(0,n.jsx)(ea,{}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col",children:[i&&(0,n.jsx)(eh,{}),(0,n.jsx)("main",{className:"flex-1 p-6",children:t})]})]})})})}},92944:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var n=a(66384);a(16636);var s=a(35515);function i(e){let{className:t,type:a,...i}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},98921:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});var n=a(66384);a(16636);var s=a(75017),i=a(35515);function r(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...o}=e;return(0,n.jsx)(s.b,{"data-slot":"separator-root",decorative:r,orientation:a,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}},99226:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>l});var n=a(66384),s=a(99089),i=a(35639),r=a(16636);function o(){return null}function l(e){let{children:t}=e,[a]=(0,r.useState)(()=>new s.E);return(0,n.jsxs)(i.Ht,{client:a,children:[t,(0,n.jsx)(o,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[7275,9414,2261,5716,7026,9297,9037,8534,2306,9309,951,7358],()=>t(19967)),_N_E=e.O()}]);