(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9627],{14717:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var n=a(66384),r=a(35515);function i(e){let{className:s,...a}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",s),...a})}},41464:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var n=a(66384),r=a(16636),i=a(55212),l=a(92944),c=a(28016),t=a(46276),d=a(95788),o=a(52142),h=a(42713),m=a(22074),x=a(57083),u=a(31238),g=a(42622),j=a(84431),p=a(19934),v=a(1669),N=a(33712),f=a(36912),C=a(78342),b=a(14717),y=a(51797),w=a(50239),I=a(55730),A=a(91752);let S=["Tablet","Capsule","Injection","Syrup","Cream","Ointment","Drops","Inhaler","Patch"],P=["Oral","IV/IM","Topical","Inhalation","Sublingual","Rectal","Ophthalmic","Otic"];function k(){var e,s;let{variants:a,isLoading:k,error:E,createVariant:q,updateVariant:F,deleteVariant:J}=(0,N.m)(),{generics:V,createGeneric:L,isCreating:O}=(0,f.O)(),{insurances:B}=(0,w.Z)(),{classes:T,createClass:$,isCreating:D}=(0,I.S)(),[M,G]=(0,r.useState)(""),[R,_]=(0,r.useState)("all"),[Z,z]=(0,r.useState)("all"),[U,W]=(0,r.useState)(!1),[H,X]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(null),[Q,ee]=(0,r.useState)(""),[es,ea]=(0,r.useState)(""),[en,er]=(0,r.useState)([]),[ei,el]=(0,r.useState)(!1),[ec,et]=(0,r.useState)({name:"",chemicalName:"",description:"",classId:""}),[ed,eo]=(0,r.useState)(!1),[eh,em]=(0,r.useState)({name:"",description:""}),[ex,eu]=(0,r.useState)({name:"",tradeName:"",form:"",route:"",strength:"",concentration:"",packaging:"",notes:"",extraInfo:null,genericIds:[],genericName:""}),[eg,ej]=(0,r.useState)(""),ep=(null!=V?V:[]).filter(e=>{var s,a,n;return!(null!=(a=ex.genericIds)?a:[]).includes(e.id)&&(e.name.toLowerCase().includes(eg.toLowerCase())||null!=(n=null==(s=e.className)?void 0:s.toLowerCase().includes(eg.toLowerCase()))&&n)}),ev=Array.isArray(a)?a:[];Array.isArray(a)||console.warn("Expected variants to be an array, got:",a);let eN=ev.filter(e=>{let s=e.name.toLowerCase().includes(M.toLowerCase())||e.tradeName&&e.tradeName.toLowerCase().includes(M.toLowerCase())||e.strength.toLowerCase().includes(M.toLowerCase())||e.generics.some(e=>e.name.toLowerCase().includes(M.toLowerCase())),a="all"===R||e.form===R,n="all"===Z||e.route===Z;return s&&a&&n}),ef=(e,s)=>{er(a=>a.map(a=>a.insuranceId===e?{...a,coverage:{...a.coverage,...s}}:a))},eC=e=>{er(s=>s.filter(s=>s.insuranceId!==e))},eb=async e=>{e.preventDefault();try{let e=V.filter(e=>ex.genericIds.includes(e.id)),s=e.map(e=>e.name).join(" + "),a={...ex,generics:e,genericName:s,insuranceCoverages:en.map(e=>{let s=B.find(s=>s.id===e.insuranceId);return{id:e.coverage.id||crypto.randomUUID(),insuranceId:e.insuranceId,insuranceName:(null==s?void 0:s.name)||e.coverage.insuranceName||"Unknown Insurance",status:e.coverage.status,insurancePrice:e.coverage.insurancePrice,clientContributionPercentage:e.coverage.clientContributionPercentage,requiresPreApproval:e.coverage.requiresPreApproval,createdAt:e.coverage.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:e.coverage.createdBy||"system_admin",updatedBy:"system_admin",version:e.coverage.version||0}})};Y?(await F({...Y,...a}),C.o.success("Medicine variant updated successfully")):(await q(a),C.o.success("Medicine variant created successfully")),W(!1),K(null),eu({name:"",tradeName:"",form:"",route:"",strength:"",concentration:"",packaging:"",notes:"",extraInfo:null,genericIds:[],genericName:""}),er([])}catch(e){C.o.error(e instanceof Error?e.message:"An error occurred")}},ey=e=>{var s;K(e),eu({name:e.name,tradeName:e.tradeName||"",form:e.form,route:e.route,strength:e.strength,concentration:e.concentration||"",packaging:e.packaging,notes:e.notes||"",extraInfo:e.extraInfo,genericIds:Array.isArray(e.genericIds)&&e.genericIds.length>0?e.genericIds:Array.isArray(e.generics)?e.generics.map(e=>e.id):[],genericName:e.genericName||""}),er((null==(s=e.insuranceCoverages)?void 0:s.map(e=>({insuranceId:e.insuranceId,coverage:{id:e.id,status:e.status,insurancePrice:e.insurancePrice,clientContributionPercentage:e.clientContributionPercentage,requiresPreApproval:e.requiresPreApproval,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy,updatedBy:e.updatedBy,version:e.version,insuranceName:e.insuranceName}})))||[]),W(!0)},ew=async e=>{try{await J(e),C.o.success("Medicine variant deleted successfully")}catch(e){C.o.error(e instanceof Error?e.message:"Failed to delete medicine variant")}},eI=e=>{eu(s=>({...s,genericIds:s.genericIds.includes(e)?s.genericIds.filter(s=>s!==e):[...s.genericIds,e]}))};return E?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"Error loading medicine variants"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Please try again later"})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Medicine Variants"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Manage different formulations and dosage forms of generic medicines"})]}),(0,n.jsxs)(t.lG,{open:U,onOpenChange:W,children:[(0,n.jsx)(t.zM,{asChild:!0,children:(0,n.jsxs)(i.$,{onClick:()=>{K(null),eu({name:"",tradeName:"",form:"",route:"",strength:"",concentration:"",packaging:"",notes:"",extraInfo:null,genericIds:[],genericName:""}),W(!0)},children:[(0,n.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Add Variant"]})}),(0,n.jsx)(t.Cf,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:(0,n.jsxs)("form",{onSubmit:eb,children:[(0,n.jsxs)(t.c7,{children:[(0,n.jsx)(t.L3,{children:Y?"Edit Medicine Variant":"Add New Medicine Variant"}),(0,n.jsx)(t.rr,{children:Y?"Update the medicine variant information below.":"Create a new medicine variant with specific formulation details."})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"name",children:"Variant Name"}),(0,n.jsx)(l.p,{id:"name",value:ex.name,onChange:e=>eu({...ex,name:e.target.value}),placeholder:"e.g., Dexamethasone Sodium Phosphate",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"tradeName",children:"Trade Name (Optional)"}),(0,n.jsx)(l.p,{id:"tradeName",value:ex.tradeName,onChange:e=>eu({...ex,tradeName:e.target.value}),placeholder:"e.g., Decadron Injectable"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"form",children:"Form"}),(0,n.jsxs)(d.l6,{value:ex.form,onValueChange:e=>eu({...ex,form:e}),children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{placeholder:"Select form"})}),(0,n.jsx)(d.gC,{children:S.map(e=>(0,n.jsx)(d.eb,{value:e,children:e},e))})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"route",children:"Route"}),(0,n.jsxs)(d.l6,{value:ex.route,onValueChange:e=>eu({...ex,route:e}),children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{placeholder:"Select route"})}),(0,n.jsx)(d.gC,{children:P.map(e=>(0,n.jsx)(d.eb,{value:e,children:e},e))})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"strength",children:"Strength"}),(0,n.jsx)(l.p,{id:"strength",value:ex.strength,onChange:e=>eu({...ex,strength:e.target.value}),placeholder:"e.g., 4mg/ml",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"concentration",children:"Concentration (Optional)"}),(0,n.jsx)(l.p,{id:"concentration",value:ex.concentration,onChange:e=>eu({...ex,concentration:e.target.value}),placeholder:"e.g., 10mg/ml"})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"packaging",children:"Packaging"}),(0,n.jsx)(l.p,{id:"packaging",value:ex.packaging,onChange:e=>eu({...ex,packaging:e.target.value}),placeholder:"e.g., Vial 1ml",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"notes",children:"Notes"}),(0,n.jsx)(h.T,{id:"notes",value:ex.notes,onChange:e=>eu({...ex,notes:e.target.value}),placeholder:"Additional notes about administration or usage"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Linked Generics"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(d.l6,{value:"",onValueChange:e=>{e&&!ex.genericIds.includes(e)&&eI(e)},children:[(0,n.jsx)(d.bq,{className:"flex-1",children:(0,n.jsx)(d.yv,{placeholder:"Search and add generics..."})}),(0,n.jsxs)(d.gC,{children:[(0,n.jsx)("div",{className:"p-2",children:(0,n.jsx)(l.p,{placeholder:"Search generics...",className:"mb-2",value:eg,onChange:e=>ej(e.target.value)})}),ep.map(e=>(0,n.jsx)(d.eb,{value:e.id,children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:e.className})]})},e.id)),0===ep.length&&(0,n.jsx)("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No generics found"})]})]}),(0,n.jsx)(i.$,{type:"button",variant:"outline",size:"icon",onClick:()=>el(!0),children:(0,n.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Selected Generics:"}),0===(null!=(e=ex.genericIds)?e:[]).length?(0,n.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"No generics selected"}):(0,n.jsx)("div",{className:"space-y-2",children:(null!=(s=ex.genericIds)?s:[]).map(e=>{let s=V.find(s=>s.id===e);return s?(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/50",children:[(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:s.name}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:s.className})]})}),(0,n.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>eI(s.id),className:"h-6 w-6 p-0",children:(0,n.jsx)(x.A,{className:"h-3 w-3"})})]},s.id):null})})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Insurance Coverage"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(d.l6,{value:es,onValueChange:ea,children:[(0,n.jsx)(d.bq,{className:"flex-1",children:(0,n.jsx)(d.yv,{placeholder:"Select insurance"})}),(0,n.jsx)(d.gC,{children:B.filter(e=>!en.some(s=>s.insuranceId===e.id)).map(e=>(0,n.jsxs)(d.eb,{value:e.id,children:[e.name," (",e.abbreviation,")"]},e.id))})]}),(0,n.jsx)(i.$,{onClick:()=>{if(!es)return;let e=B.find(e=>e.id===es);if(!e)return;let s="number"!=typeof e.defaultClientContributionPercentage||isNaN(e.defaultClientContributionPercentage)?20:e.defaultClientContributionPercentage,a="boolean"==typeof e.defaultRequiresPreApproval&&e.defaultRequiresPreApproval;er(n=>[...n,{insuranceId:e.id,coverage:{id:crypto.randomUUID(),status:"ACTIVE",insurancePrice:null,clientContributionPercentage:s,requiresPreApproval:a}}]),ea("")},type:"button",disabled:!es,children:"Add Insurance"})]}),(0,n.jsx)("div",{className:"mt-4 space-y-4",children:en.map(e=>{let s=B.find(s=>s.id===e.insuranceId);return(0,n.jsxs)(p.Zp,{className:"w-full",children:[(0,n.jsxs)(p.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsxs)(p.ZB,{className:"text-sm font-medium",children:[e.coverage.insuranceName," ",(null==s?void 0:s.abbreviation)?"(".concat(s.abbreviation,")"):""]}),(0,n.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eC(e.insuranceId),children:(0,n.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,n.jsx)(p.Wu,{children:(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Status"}),(0,n.jsxs)(d.l6,{value:e.coverage.status,onValueChange:s=>ef(e.insuranceId,{status:s}),children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{})}),(0,n.jsxs)(d.gC,{children:[(0,n.jsx)(d.eb,{value:"ACTIVE",children:"Active"}),(0,n.jsx)(d.eb,{value:"INACTIVE",children:"Inactive"}),(0,n.jsx)(d.eb,{value:"PENDING",children:"Pending"})]})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Insurance Price"}),(0,n.jsx)(l.p,{type:"number",value:"number"!=typeof e.coverage.insurancePrice||isNaN(e.coverage.insurancePrice)?"":e.coverage.insurancePrice,onChange:s=>ef(e.insuranceId,{insurancePrice:parseFloat(s.target.value)}),placeholder:"Enter insurance price"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Client Contribution %"}),(0,n.jsx)(l.p,{type:"number",value:"number"!=typeof e.coverage.clientContributionPercentage||isNaN(e.coverage.clientContributionPercentage)?"":e.coverage.clientContributionPercentage,onChange:s=>{let a=parseFloat(s.target.value);ef(e.insuranceId,{clientContributionPercentage:a})},min:"0",max:"100"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{children:"Requires Pre-Approval"}),(0,n.jsxs)(d.l6,{value:e.coverage.requiresPreApproval?"true":"false",onValueChange:s=>ef(e.insuranceId,{requiresPreApproval:"true"===s}),children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{})}),(0,n.jsxs)(d.gC,{children:[(0,n.jsx)(d.eb,{value:"true",children:"Yes"}),(0,n.jsx)(d.eb,{value:"false",children:"No"})]})]})]})]})]})})]},e.insuranceId)})})]})]})]}),(0,n.jsx)(t.Es,{children:(0,n.jsx)(i.$,{type:"submit",disabled:0===ex.genericIds.length,children:Y?"Update":"Create"})})]})})]})]}),(0,n.jsx)(t.lG,{open:ei,onOpenChange:el,children:(0,n.jsx)(t.Cf,{className:"sm:max-w-[600px]",children:(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!ec.classId)return void C.o.error("Please select a therapeutic class.");let s=T.find(e=>e.id===ec.classId);L({...ec,className:(null==s?void 0:s.name)||"",isParent:!0,insuranceCoverages:[]},{onSuccess:e=>{C.o.success("Generic created successfully"),el(!1),et({name:"",chemicalName:"",description:"",classId:""}),eI(e.id)},onError:e=>{C.o.error(e.message||"Failed to create generic")}})},children:[(0,n.jsxs)(t.c7,{children:[(0,n.jsx)(t.L3,{children:"Add New Generic Medicine"}),(0,n.jsx)(t.rr,{children:"Create a new generic medicine to link to this variant."})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-generic-name",children:"Name *"}),(0,n.jsx)(l.p,{id:"new-generic-name",value:ec.name,onChange:e=>et({...ec,name:e.target.value}),placeholder:"e.g., Metformin",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-generic-chemicalName",children:"Chemical Name *"}),(0,n.jsx)(l.p,{id:"new-generic-chemicalName",value:ec.chemicalName,onChange:e=>et({...ec,chemicalName:e.target.value}),placeholder:"e.g., Metformin hydrochloride",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-generic-classId",children:"Therapeutic Class *"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(d.l6,{value:ec.classId,onValueChange:e=>et({...ec,classId:e}),children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{placeholder:"Select a therapeutic class"})}),(0,n.jsx)(d.gC,{children:T.map(e=>(0,n.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]}),(0,n.jsx)(i.$,{type:"button",variant:"outline",size:"icon",onClick:()=>eo(!0),children:(0,n.jsx)(m.A,{className:"h-4 w-4"})})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-generic-description",children:"Description *"}),(0,n.jsx)(h.T,{id:"new-generic-description",value:ec.description,onChange:e=>et({...ec,description:e.target.value}),placeholder:"Brief description of the generic medicine",required:!0})]})]}),(0,n.jsxs)(t.Es,{children:[(0,n.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>el(!1),children:"Cancel"}),(0,n.jsxs)(i.$,{type:"submit",disabled:O,children:[O&&(0,n.jsx)(A.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Generic"]})]})]})})}),(0,n.jsx)(t.lG,{open:ed,onOpenChange:eo,children:(0,n.jsx)(t.Cf,{className:"sm:max-w-[425px]",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),$(eh,{onSuccess:e=>{C.o.success("Therapeutic class created successfully"),eo(!1),em({name:"",description:""}),et(s=>({...s,classId:e.id}))},onError:e=>{C.o.error(e.message||"Failed to create therapeutic class")}})},children:[(0,n.jsxs)(t.c7,{children:[(0,n.jsx)(t.L3,{children:"Add New Therapeutic Class"}),(0,n.jsx)(t.rr,{children:"Create a new therapeutic class for organizing medicines."})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-class-name",children:"Name"}),(0,n.jsx)(l.p,{id:"new-class-name",value:eh.name,onChange:e=>em({...eh,name:e.target.value}),placeholder:"e.g., Antidiabetics",required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o.J,{htmlFor:"new-class-description",children:"Description"}),(0,n.jsx)(h.T,{id:"new-class-description",value:eh.description,onChange:e=>em({...eh,description:e.target.value}),placeholder:"Brief description of the therapeutic class",required:!0})]})]}),(0,n.jsxs)(t.Es,{children:[(0,n.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>eo(!1),children:"Cancel"}),(0,n.jsxs)(i.$,{type:"submit",disabled:D,children:[D&&(0,n.jsx)(A.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Class"]})]})]})})}),(0,n.jsx)(t.lG,{open:H,onOpenChange:X,children:(0,n.jsxs)(t.Cf,{className:"sm:max-w-[600px]",children:[(0,n.jsxs)(t.c7,{children:[(0,n.jsx)(t.L3,{children:"Edit Extra Information (JSON)"}),(0,n.jsx)(t.rr,{children:"Enter additional data in JSON format. Leave empty for no extra data."})]}),(0,n.jsx)("div",{className:"grid gap-4 py-4",children:(0,n.jsx)(h.T,{value:Q,onChange:e=>ee(e.target.value),placeholder:'{"key": "value", "array": [1, 2, 3]}',className:"min-h-[200px] font-mono text-sm"})}),(0,n.jsxs)(t.Es,{children:[(0,n.jsx)(i.$,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),(0,n.jsx)(i.$,{onClick:()=>{try{let e=Q.trim()?JSON.parse(Q):null;eu({...ex,extraInfo:e}),X(!1)}catch(e){C.o.error("Invalid JSON format")}},children:"Save JSON"})]})]})}),(0,n.jsxs)(p.Zp,{children:[(0,n.jsxs)(p.aR,{children:[(0,n.jsx)(p.ZB,{children:"Search & Filter"}),(0,n.jsx)(p.BT,{children:"Find medicine variants by name, strength, or linked generics"})]}),(0,n.jsx)(p.Wu,{children:(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(l.p,{placeholder:"Search by variant name, trade name, strength, or generic...",value:M,onChange:e=>G(e.target.value),className:"pl-10"})]}),(0,n.jsx)("div",{className:"w-40",children:(0,n.jsxs)(d.l6,{value:R,onValueChange:_,children:[(0,n.jsxs)(d.bq,{children:[(0,n.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,n.jsx)(d.yv,{})]}),(0,n.jsxs)(d.gC,{children:[(0,n.jsx)(d.eb,{value:"all",children:"All Forms"}),S.map(e=>(0,n.jsx)(d.eb,{value:e,children:e},e))]})]})}),(0,n.jsx)("div",{className:"w-40",children:(0,n.jsxs)(d.l6,{value:Z,onValueChange:z,children:[(0,n.jsx)(d.bq,{children:(0,n.jsx)(d.yv,{})}),(0,n.jsxs)(d.gC,{children:[(0,n.jsx)(d.eb,{value:"all",children:"All Routes"}),P.map(e=>(0,n.jsx)(d.eb,{value:e,children:e},e))]})]})})]})})]}),(0,n.jsxs)(p.Zp,{children:[(0,n.jsxs)(p.aR,{children:[(0,n.jsxs)(p.ZB,{children:["Medicine Variants (",eN.length,")"]}),(0,n.jsx)(p.BT,{children:"All medicine variants with their formulation details"})]}),(0,n.jsx)(p.Wu,{children:k?(0,n.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,s)=>(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)(b.E,{className:"h-12 w-full"})},s))}):(0,n.jsxs)(c.XI,{children:[(0,n.jsx)(c.A0,{children:(0,n.jsxs)(c.Hj,{children:[(0,n.jsx)(c.nd,{className:"w-[200px]",children:"Variant Name"}),(0,n.jsx)(c.nd,{className:"hidden md:table-cell w-[150px]",children:"Form & Route"}),(0,n.jsx)(c.nd,{className:"hidden lg:table-cell w-[150px]",children:"Strength"}),(0,n.jsx)(c.nd,{className:"hidden xl:table-cell w-[150px]",children:"Packaging"}),(0,n.jsx)(c.nd,{className:"hidden xl:table-cell w-[200px]",children:"Linked Generics"}),(0,n.jsx)(c.nd,{className:"hidden 2xl:table-cell w-[200px]",children:"Insurance Coverages"}),(0,n.jsx)(c.nd,{className:"hidden 2xl:table-cell w-[120px]",children:"Created"}),(0,n.jsx)(c.nd,{className:"w-[100px] text-right",children:"Actions"})]})}),(0,n.jsx)(c.BF,{children:eN.map(e=>{var s;return(0,n.jsxs)(c.Hj,{children:[(0,n.jsx)(c.nA,{className:"font-medium max-w-[200px]",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"truncate",children:e.name}),e.tradeName&&(0,n.jsxs)("span",{className:"text-sm text-blue-600 font-medium truncate",children:["Trade: ",e.tradeName]}),e.notes&&(0,n.jsx)("span",{className:"text-sm text-muted-foreground truncate",children:e.notes}),(0,n.jsxs)("div",{className:"md:hidden space-y-1 mt-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(v.E,{variant:"outline",children:e.form}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:e.route})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:"Strength: "}),e.strength,e.concentration&&(0,n.jsxs)("span",{className:"text-muted-foreground",children:[" (Conc: ",e.concentration,")"]})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-medium",children:"Packaging: "}),e.packaging]})]})]})}),(0,n.jsx)(c.nA,{className:"hidden md:table-cell",children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)(v.E,{variant:"outline",children:e.form}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:e.route})]})}),(0,n.jsx)(c.nA,{className:"hidden lg:table-cell",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.strength}),e.concentration&&(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Conc: ",e.concentration]})]})}),(0,n.jsx)(c.nA,{className:"hidden xl:table-cell",children:e.packaging}),(0,n.jsx)(c.nA,{className:"hidden xl:table-cell",children:(0,n.jsx)("div",{className:"space-y-1",children:e.generics.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)(v.E,{variant:"secondary",className:"text-xs",children:e.name}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:e.className})]},e.id))})}),(0,n.jsx)(c.nA,{className:"hidden 2xl:table-cell",children:(0,n.jsx)("div",{className:"space-y-1",children:null==(s=e.insuranceCoverages)?void 0:s.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)(v.E,{variant:"ACTIVE"===e.status?"default":"secondary",className:"text-xs",children:e.insuranceName}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.clientContributionPercentage,"% client contribution"]})]},e.id))})}),(0,n.jsx)(c.nA,{className:"hidden 2xl:table-cell",children:new Date(e.createdAt).toLocaleDateString()}),(0,n.jsx)(c.nA,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(y.Bc,{children:(0,n.jsxs)(y.m_,{children:[(0,n.jsx)(y.k$,{asChild:!0,children:(0,n.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>ey(e),children:(0,n.jsx)(j.A,{className:"h-4 w-4"})})}),(0,n.jsx)(y.ZI,{children:(0,n.jsxs)("p",{children:["Edit ",e.name]})})]})}),(0,n.jsx)(y.Bc,{children:(0,n.jsxs)(y.m_,{children:[(0,n.jsx)(y.k$,{asChild:!0,children:(0,n.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>ew(e.id),children:(0,n.jsx)(x.A,{className:"h-4 w-4"})})}),(0,n.jsx)(y.ZI,{children:(0,n.jsxs)("p",{children:["Delete ",e.name]})})]})})]})})]},e.id)})})]})})]})]})}},47705:(e,s,a)=>{Promise.resolve().then(a.bind(a,41464))}},e=>{var s=s=>e(e.s=s);e.O(0,[9414,2261,5716,8377,7026,9297,9037,6338,8534,6565,7519,9309,951,7358],()=>s(47705)),_N_E=e.O()}]);